aiAssistantLicense:
  activationKey: ""
  externalSecret:
    name: ""
    key: AI_ASSISTANT_ACTIVATION_KEY

apiAuth:
  apiToken: secret
  jwt:
    publicKey: none
    algorithm: RS256


config:
  serviceConfiguration:
    version: '1'
    aiServices:
      chat:
        provider:
          name: "mock"
          fakeResponses:
            - "Hello! This is a mock response for testing."
            - "Mock provider is working correctly."
            - "Test response from AIA mock provider."
        model: "mock-chat-model"
      textEmbeddings:
        provider:
          name: "mock"
          fakeResponses: []
        model: "mock-embedding-model"
  documentEngine:
    enabled: true
    url: http://document-engine:5000
    auth:
      apiToken: documentEngineSecret

database:
  enabled: true
  engine: postgres
  postgres:
    username: postgres
    password: nutrientArtificialIntelligenceAssistant
    tls:
      enabled: false

dashboard:
  auth:
    username: admin
    password: admin

observability:
  log:
    level: info
    socketTraces: false
  opentelemetry:
    enabled: false

replicaCount: 1

updateStrategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 0

resources:
  requests:
    cpu: "100m"
    memory: 256Mi
  limits:
    cpu: "2"
    memory: 4Gi

ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/proxy-body-size: "0"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "180"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "180"
    nginx.ingress.kubernetes.io/large-client-header-buffers: "4 16k"
    nginx.ingress.kubernetes.io/proxy-buffer-size: "128k"
  hosts:
    - paths:
        - path: /
          pathType: ImplementationSpecific

cloudNativePG:
  enabled: true
  clusterName: "{{ .Release.Name }}-postgres"
  clusterSpec:
    logLevel: info
  documentEngineDatabase:
    enabled: true
    name: document_engine

document-engine:
  enabled: true
  fullnameOverride: document-engine
  nameOverride: document-engine
  documentEngineLicense:
    activationKey: ""
    externalSecret:
      name: ""
  apiAuth:
    apiToken: documentEngineSecret
  config:
    trustedProxies: default
  documentSigningService:
    enabled: false
  database:
    enabled: true
    engine: postgres
    migrationJob:
      enabled: false
    postgres:
      host: "{{ .Release.Name }}-de-postgres-rw"
      database: document_engine
      # username: postgres
      # password: nutrientArtificialIntelligenceAssistant
      # adminUsername: postgres
      # adminPassword: nutrientArtificialIntelligenceAssistant
      tls:
        enabled: false
  assetStorage:
    backendType: built-in
    backendFallback:
      enabled: false
  dashboard:
    auth:
      username: admin
      password: admin
  observability:
    log:
      level: info
    opentelemetry:
      enabled: false
  replicaCount: 1
  updateStrategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
      maxSurge: 0
  resources:
    requests:
      cpu: "100m"
      memory: 256Mi
    limits:
      cpu: "2"
      memory: 4Gi
  ingress:
    enabled: true
    className: nginx
    annotations:
      nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
      nginx.ingress.kubernetes.io/rewrite-target: /
      nginx.ingress.kubernetes.io/proxy-body-size: "0"
      nginx.ingress.kubernetes.io/proxy-send-timeout: "180"
      nginx.ingress.kubernetes.io/proxy-read-timeout: "180"
      nginx.ingress.kubernetes.io/large-client-header-buffers: "4 16k"
      nginx.ingress.kubernetes.io/proxy-buffer-size: "128k"
    hosts:
      - paths:
          - path: /
            pathType: ImplementationSpecific
  startupProbe:
    initialDelaySeconds: 30
    failureThreshold: 10
  cloudNativePG:
    enabled: true
    clusterName: "{{ .Release.Name }}-de-postgres"
    clusterSpec:
      logLevel: info
